<!DOCTYPE html>

<html>

<head>
  <title>FlowdoCode | FLOWDOCODE</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" media="screen" href="css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" media="screen" href="css/jquery-ui.min.css" />
  <link rel="stylesheet" type="text/css" media="screen" href="css/font-awesome-all.min.css" />
  <link rel="stylesheet" type="text/css" media="screen" href="css/main.css" />
  <script src="js/jquery.js"></script>
  <script src="js/jquery-ui.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/flowdocode.js"></script>
  <script src="js/compiler.js"></script>
  <script src="js/debugger.js"></script>
  <script src="js/syntaxchecker.js"></script>
  <script src="js/font-awesome-all.min.js"></script>
  <script src="js/vue.js"></script>




</head>
<script>



//0,0  150,150
</script>
<style>
  body{
    background: #fff;
    padding: 0px 50px;
  }
</style>
<body>
 x1 <input type=textbox id="x1" value="100"> y1 <input type=textbox id="y1" value="100">
 ตำแหน่ง
 <select  id="po1">
   <option value="top">top</option>
   <option value="right">right</option>
   <option value="bottom">bottom</option>
   <option value="left">left</option>

 </select><br>
 x2 <input type=textbox id="x2" value="300"> y2 <input type=textbox id="y2" value="300">
 ตำแหน่ง<select  id="po2">
    <option value="top">top</option>
    <option value="right">right</option>
    <option value="bottom">bottom</option>
    <option value="left">left</option>
 
  </select>
<button>plot</button><br><br>
<div class="row">
<svg style="height:800px;" class="col-8">
    <defs>
        <marker id="arrowhead" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="6" markerHeight="6" orient="auto">
          <path d="M 0 0 L 10 5 L 0 10 z" fill="#000" />
        </marker>
      </defs>
      <g>
          <polyline points="20,20 40,25 60,40 80,120 120,140 200,180"
          style="fill:none;stroke:none;stroke-width:3" />
      </g>
</svg>
<textarea class="col-4"></textarea>
</div>
</body>
<script>

$(document).on('click','button',function(){
  let j={
  x1:$("#x1").val(),
   y1:$("#y1").val(),
   x2:$("#x2").val(),
   y2:$("#y2").val(),
   po1:$("#po1").val(),
   po2:$("#po2").val()
  }

  Spoint={x:j.x1,y:j.y1};
  Epoint={x:j.x2,y:j.y2};

  let response =[];
  response =prototypeDrawLine(Spoint,Epoint);
  let path =generatePathForConnector(response);

  $("textarea").val(JSON.stringify(response, null, "\t")+path);
  let polyLine=document.createElementNS("http://www.w3.org/1999/xhtml", 'polyline');
  // let point=  test(j) ;
  $(polyLine).attr("points",path);
  $(polyLine).attr("style","fill:none;stroke:black;stroke-width:1;");
  $(polyLine).attr("marker-end","url(#arrowhead)");

  $("g").html(polyLine);
  console.log($("g").html());
  $("svg").html($("svg").html());
  let g= $("g").html();
});


</script>
</html>